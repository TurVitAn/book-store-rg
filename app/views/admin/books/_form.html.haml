= semantic_form_for [:admin, @book], builder: ActiveAdmin::FormBuilder do |f|
  = f.inputs 'Details' do
    = f.input :category, wrapper_html: { class: ('error' if @errors&.messages&.key?(:category_id)) }
    = render partial: 'admin/shared/errors', locals: { errors: @errors, field: :category_id }
    = f.input :authors, as: :check_boxes, collection: Author.all.decorate, required: true,
                         wrapper_html: { class: ('error' if @errors&.messages&.key?(:authors)) }
    = render partial: 'admin/shared/errors', locals: { errors: @errors, field: :authors }
    = f.input :published_at, as: :datepicker, required: true,
                         wrapper_html: { class: ('error' if @errors&.messages&.key?(:published_at)) }
    = render partial: 'admin/shared/errors', locals: { errors: @errors, field: :published_at }

    - %i[title description price height width depth materials].each do |field|
      = f.input field, required: true, wrapper_html: { class: ('error' if @errors&.messages&.key?(field)) }
      = render partial: 'admin/shared/errors', locals: { errors: @errors, field: field }
  = f.actions do
    = f.action :submit
    = f.cancel_link
